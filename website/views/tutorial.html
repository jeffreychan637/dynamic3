<!DOCTYPE html>
<html lang=en>
    <head>
        <script src="./../dependencies/d3.js" type="text/javascript" charset="utf-8"></script>
<!--        use this eventually <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>-->
		<script src="./../../dynamic3.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
		<script src="./../scripts/tutorial.js"></script>
        <link rel="stylesheet" href="./../dependencies/bootstrap.min.css"></link>
        <link rel="stylesheet" href="./../dependencies/bootstrap-theme.min.css"></link>
        <script src="./../dependencies/bootstrap.min.js"></script>
        <link rel="stylesheet" href="./../styles/index.css"></link>
        <link rel="stylesheet" href="./../styles/tutorial.css"></link>
        <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>
    </head>
    <body>
        
        
        <nav class="navbar navbar-default navbar-fixed-top nav">
          <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="#">Dynamic3</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
              <ul class="nav navbar-nav">
                <li><a href="./index.html#ever-changing-bar-graph">Ever-Changing Bar Graph</a></li>
                <li><a href="./index.html#cir-graph">Circle Graph</a></li>
                <li><a href="./index.html#sliding-bar-graph">Sliding Bar Graph</a></li>
              </ul>
              <ul class="nav navbar-nav navbar-right">
                <li><a href="http://www.github.com/jeffreychan637/dynamic3" target="_blank">View Code on Github</a></li>
                <li class="download-nav"><a href="#download" class="download-nav">Download</a></li>
              </ul>
            </div><!-- /.navbar-collapse -->
          </div><!-- /.container-fluid -->
        </nav>
        
        <div class="">
            <div class="container">
                <h1 class="section-title tutorial-title">Ever-changing Bar Graph</h1>
                <p>This tutorial will walk you through the Dynamic3 Ever-changing Bar Graph example where the bar values are based on randomly generated data. Here’s what it will look like:</p>
                <div id="tutorial-bar-graph"></div>
                <pre class="prettyprint">
    &lt;!DOCTYPE html&gt;
    &lt;html&gt;
        &lt;head&gt;
            &lt;script src="http://d3js.org/d3.v3.min.js" charset="utf-8"&gt;&lt;/script&gt;
            &lt;script src="./local/path/to/dynamic3.js"&gt;&lt;/script&gt;
        &lt;/head&gt;
        &lt;body&gt;
            &lt;div id="bar-graph"&gt;&lt;/div&gt;
        &lt;/body&gt;
    &lt;/html&gt;</pre>
                <p>In our onload event, we use the createGraph function with the argument BarGraph to create an instance of the ever-changing bar graph.</p> 
                
                <pre class="prettyprint"> window.onload = function() {
                var bar = dynamic3.createGraph('BarGraph')</pre>
                <p>Setting attributes of our bar graph is made simple via Dynamic3 calls. For example, we can set the height and width by calling the specific library functions, setHeight and setWidth. The library function can be chained together for cleaner code.</p>
                
                <pre class="prettyprint">
 bar.setWidth('250px')
    .setHeight('250px')
    .setDomain([0, 100])
    .setPadding(10)
    .setTransitionTime(400)
    .setBackgroundColor('#496dff')
    .setBorderColor('#2b2c2b')
    .setBorderWidth(1)
    .setOrientation('horizontal')</pre>
                <p>When you’re done defining attributes, call insertIntoHTMLElement on your graph object, passing in the HTML element that will contain your graph. This will make your graph appear on your webpage.</p>
                
                <pre class="prettyprint"> bar.insertIntoHTMLElement(document.getElementById("bar-graph"));</pre>
                
                <p>We will simulate real-time data using the loopWithRandomDynamicData function below.</p>
                
                <pre class="prettyprint">
function loopWithRandomDynamicData() {
    bardata = [];
    for (var i = 0; i &lt; 10; i += 1) {
        bardata[i] = Math.random() * 100 | 0;
    }
    bar.update(bardata);
    var waitTime = Math.random() * 3000; // wait between 0 and 3 seconds for next data point.
    setTimeout(loopWithRandomDynamicData, waitTime) 
    //In order to simulate the data coming in, we call this function over and over again after a random amount of seconds each time.
    }

    loopWithRandomDynamicData(); //initial call to function
    }</pre>
                <p>The important thing to note in our function is the call to bar.update. Update takes in an array of data for the graph to display. The order of the data on the bar graph is displayed in the same order as the data in the array. Update should be called each time you want to update the data that is being displayed in the graph.

That’s it!</p>
            </div>
        </div>

    </body>
</html>
